<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Synology on Rails Part VI: An Improved Docker Registry | DWF’s Journal</title> <link href='/feed.xml' rel=alternate title='Atom Feed' type='application/atom+xml'> <script type='application/ld+json'>
{"@type":"BlogPosting","url":"https://dwf.bigpencil.net/synology-improved-registry/","datePublished":"2024-09-25","dateCreated":"2024-09-25","dateModified":"2024-09-25","headline":"Synology on Rails Part VI: An Improved Docker Registry","abstract":"Adding UI to the Docker Registry now running on the Synology.","keywords":["web development","ruby","rails","software engineering","deployment","docker","containers","synology","nas"],"author":{"@type":"Person","name":"Davis W. Frank","email":"dwfrank@gmail.com","url":"https://dwf.bigpencil.net/about_me","alumniOf":"University of Georgia","image":"https://dwf.bigpencil.net/images/dwf@2x-b89bef4d.png","sameAs":["https://www.linkedin.com/in/daviswfrank","https://github.com/infews","https://ruby.social/@dwfrank","https://www.threads.net/@dwfrank"]},"publisher":{"@type":"Person","name":"Davis W. Frank","email":"dwfrank@gmail.com","url":"https://dwf.bigpencil.net/about_me","alumniOf":"University of Georgia","image":"https://dwf.bigpencil.net/images/dwf@2x-b89bef4d.png","sameAs":["https://www.linkedin.com/in/daviswfrank","https://github.com/infews","https://ruby.social/@dwfrank","https://www.threads.net/@dwfrank"]},"articleBody":"\nAfter a few months of pushing container images to my home grown registry, I was noticing that my server was filling up. I wasn’t worried about running out of space soon, but what about a few months from now?\n\nThere are a handful of UI projects out there that run on top of the Docker Registry and provide UI to allow management of old images, retention policies, etc. Just what I needed.\n\nI looked into deploying a few of them and ran into various complexities. Did I have all the dependencies? I think it’s running? But I’m getting errors. I was ready to throw up my hands.\n\nA New Project has Entered the Chat\n\nI found a project that unified the default Docker Registry image and the Registry UI project from Quiq into one docker-compose.yml. This looked promising.\n\nMy only concern was that the last commit was 4 years ago. And then I couldn’t get it all running correctly in the latest Synology DSM, version 7.x. I lost about a half of a day figuring out what was wrong.\n\nA DSM 7.x Solution\n\nBut after that work, I was able to bring this project up-to-date in a fork. The README has more detailed instructions. Check it out!\n\nThe full details are in the README, but from a high level:\n\n\n  One Container Manager Project that downloads and boots both the Registry and the UI in their own containers\n  A small workaround (an extra reverse proxy) due to a Web Station limitation\n  All the management is done through the Container Manager UI (just like your apps you’ve been pushing)\n\n\nI’ve submitted a PR to the original project, but given the age, I’ll keep an eye on my fork for feedback.\n","@context":"https://schema.org"}
</script> <link href='https://cdn.jsdelivr.net/npm/holiday.css@0.11.2' rel=stylesheet> <script crossorigin=anonymous src='https://kit.fontawesome.com/e76ee0328c.js'></script> <link href='/stylesheets/v23-fb3ac88f.css' rel=stylesheet> <link href='/stylesheets/prism-laserwave-b0c76a64.css' rel=stylesheet> <script src='/js/prism-7933fd4a.js'></script> </head> <body> <nav class=menu> <ul> <li> <a class='' href='/'>Home</a> </li> <li> <span>Posts</span> <ul> <li> <a href='/series/the-cd-test'>The CD Test</a> </li> <li> <a href='/series/obsidian'>How I Obsidian</a> </li> <li> <a href='/series/interestings'>Interestings for Iterators</a> </li> <li> <a href='/series/rails-docker-nas'>Synology on Rails</a> </li> <li> <a href='/posts'>All Posts</a> </li> <li> <a href='/all_tags'>All Tags</a> </li> </ul> </li> <li> <a href='/about_me'>About Me</a> </li> </ul> </nav> <main class=''> <article> <h1> Synology on Rails Part VI: An Improved Docker Registry </h1> <section class='header with_sharing'> <div class=info> <span class=date>25 September 2024</span> <span class=dash>&#8212;</span> <span class=duration>about a 1 minute read</span> </div> <div class=sharing> <button article='Synology on Rails Part VI: An Improved Docker Registry' class=share style='display:none;' type=button> Share <i class='ios fa-solid fa-arrow-up-from-bracket' style='display:none;'></i> <i class='aos fa-solid fa-share-nodes' style='display:none;'></i> </button> </div> </section> <section class=text> <p>After a few months of pushing container images to my home grown registry, I was noticing that my server was filling up. I wasn’t worried about running out of space soon, but what about a few months from now?</p> <p>There are a handful of UI projects out there that run on top of the Docker Registry and provide UI to allow management of old images, retention policies, etc. Just what I needed.</p> <p>I looked into deploying a few of them and ran into various complexities. Did I have all the dependencies? I think it’s running? But I’m getting errors. I was ready to throw up my hands.</p> <h2>A New Project has Entered the Chat</h2> <p>I found <a href="https://github.com/vlastocom/synology-docker-registry">a project</a> that unified the default Docker Registry image and the <a href="https://github.com/Quiq/registry-ui">Registry UI project from Quiq</a> into one <code>docker-compose.yml</code>. This looked promising.</p> <p>My only concern was that the last commit was 4 years ago. And then I couldn’t get it all running correctly in the latest Synology DSM, version 7.x. I lost about a half of a day figuring out what was wrong.</p> <h2>A DSM 7.x Solution</h2> <p>But after that work, I was able to bring <a href="https://github.com/infews/synology-docker-registry/">this project up-to-date in a fork</a>. The README has more detailed instructions. Check it out!</p> <p>The full details are in the README, but from a high level:</p> <ul> <li>One Container Manager Project that downloads and boots both the Registry and the UI in their own containers</li> <li>A small workaround (an extra reverse proxy) due to a Web Station limitation</li> <li>All the management is done through the Container Manager UI (just like your apps you’ve been pushing)</li> </ul> <p>I’ve submitted a PR to the original project, but given the age, I’ll keep an eye on my fork for feedback.</p> </section> <hr> <section class='about with_sharing'> <div class=tags> This article is part of the series <a href="/series/rails-docker-nas">Synology on Rails</a> and is tagged with <a href="/tags/web-development">web development</a>, <a href="/tags/ruby">ruby</a>, <a href="/tags/rails">rails</a>, <a href="/tags/software-engineering">software engineering</a>, and <a href="/tags/deployment">deployment</a>. </div> <div class=sharing> <button article='Synology on Rails Part VI: An Improved Docker Registry' class=share style='display:none;' type=button> Share <i class='ios fa-solid fa-arrow-up-from-bracket' style='display:none;'></i> <i class='aos fa-solid fa-share-nodes' style='display:none;'></i> </button> </div> </section> </article> </main> <footer class=site> <p class=small>© 2025 Davis W. Frank</p> </footer> <script async='' src='https://www.googletagmanager.com/gtag/js?id=G-SNXCW3490N'></script> <script>
window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date());
gtag('config', 'G-SNXCW3490N');
</script> </body> <script src='/js/share-603b9554.js'></script> </html>